@page "/color-tool"

@using ToolsApp.Models.Colors
@using ToolsApp.Components.ColorTool
@using ToolsApp.Services.Colors

@inject IColorsService colorsService

<ToolHeader HeaderText="Color Tool" />

<ColorList Colors="@Colors" />

<ColorForm ButtonText="Add Color"
  OnSubmitColor="@AppendColor"/>


@code {

  private IEnumerable<Color> Colors { get; set; } = new List<Color>();

  protected override void OnInitialized()
  {
    Colors = colorsService.All();
  }

  private void AppendColor(NewColor color)
  {
    Colors = colorsService.Append(color).All();
  }

}
